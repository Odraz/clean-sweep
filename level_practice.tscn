[gd_scene load_steps=21 format=4 uid="uid://btjli0la24yr6"]

[ext_resource type="Texture2D" uid="uid://b2tjtgokpbjeh" path="res://art/terrains.png" id="1_oh4wl"]
[ext_resource type="PackedScene" uid="uid://cockkd0011ati" path="res://player.tscn" id="1_u52q2"]
[ext_resource type="Texture2D" uid="uid://dsp8yen0u2k7u" path="res://art/objects.png" id="2_naivy"]
[ext_resource type="PackedScene" uid="uid://dfi02hgcspv5o" path="res://mob.tscn" id="4_tunmd"]
[ext_resource type="Script" path="res://camera_player.gd" id="5_2fu32"]
[ext_resource type="PackedScene" uid="uid://dxaeakdou4gy7" path="res://player_gui.tscn" id="6_3xe03"]
[ext_resource type="PackedScene" uid="uid://beicbtelmoct3" path="res://window.tscn" id="7_e3inl"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_r2y4x"]
texture = ExtResource("1_oh4wl")
0:0/0 = 0
1:0/0 = 0
0:1/0 = 0
1:1/0 = 0

[sub_resource type="TileSet" id="TileSet_8f2bd"]
sources/0 = SubResource("TileSetAtlasSource_r2y4x")

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_qt4op"]
polygon = PackedVector2Array(-2, -2, 16, -2, 16, 3, 3, 3, 3, 16, -2, 16)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_dis1j"]
polygon = PackedVector2Array(-2, 15, 3, 15, 3, 16, -2, 16)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_t2iwm"]
polygon = PackedVector2Array(-2, -16, 3, -16, 3, -15, -2, -15)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_l2nl7"]
polygon = PackedVector2Array(-2, -16, 3, -16, 3, -2, 16, -2, 16, 3, 4, 3, 3, 3, 3, 16, -2, 16)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_etm6w"]
polygon = PackedVector2Array(-2, -16, 3, -16, 3, 16, -2, 16)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_r2qka"]
polygon = PackedVector2Array(-2, -16, 3, -16, 3, -13, -2, -13)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_c55ht"]
polygon = PackedVector2Array(-2, 13, 3, 13, 3, 16, -2, 16)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_xtirx"]
polygon = PackedVector2Array(-2, 1, 3, 1, 3, 16, -2, 16)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_k2ms1"]
texture = ExtResource("2_naivy")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_qt4op")
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-2, -2, 16, -2, 16, 4, 4, 4, 4, 16, -2, 16)
1:0/0 = 0
1:0/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_l2nl7")
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-2, -16, 3, -16, 3, -2, 16, -2, 16, 3, 3, 3, 3, 16, -2, 16)
2:0/0 = 0
3:0/0 = 0
3:0/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_xtirx")
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-2, 1, 3, 1, 3, 16, -2, 16)
0:1/0 = 0
0:1/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_dis1j")
0:1/0/occlusion_layer_1/polygon = SubResource("OccluderPolygon2D_t2iwm")
1:1/0 = 0
1:1/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_etm6w")
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-2, -16, 3, -16, 3, 16, -2, 16)
2:1/0 = 0
2:1/0/occlusion_layer_0/polygon = SubResource("OccluderPolygon2D_r2qka")
2:1/0/occlusion_layer_1/polygon = SubResource("OccluderPolygon2D_c55ht")
2:1/0/physics_layer_1/polygon_0/points = PackedVector2Array(-2, -16, 3, -16, 3, 16, -2, 16)
3:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0

[sub_resource type="TileSet" id="TileSet_43nsg"]
tile_size = Vector2i(32, 32)
occlusion_layer_0/light_mask = 1
occlusion_layer_1/light_mask = 1
physics_layer_0/collision_layer = 1
physics_layer_1/collision_layer = 2
physics_layer_1/collision_mask = 2
sources/0 = SubResource("TileSetAtlasSource_k2ms1")

[sub_resource type="NavigationPolygon" id="NavigationPolygon_03y72"]
vertices = PackedVector2Array(276, 28, 276, -108, 492, -108, 492, 76, 604, 12, 564, 12, 564, -108, 684, -108, 684, 12, 644, 12, 604, 76, 644, 76, 684, 76, 684, 204, 276, 204, 276, 68, 204, 28, 212, 68, 212, 276, 52, 276, 52, -116, 204, -116)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 5, 6, 7), PackedInt32Array(7, 8, 9), PackedInt32Array(4, 7, 9, 10), PackedInt32Array(10, 9, 11), PackedInt32Array(11, 12, 13, 14), PackedInt32Array(10, 11, 14), PackedInt32Array(3, 10, 14), PackedInt32Array(3, 14, 15), PackedInt32Array(0, 3, 15, 16), PackedInt32Array(16, 15, 17), PackedInt32Array(17, 18, 19, 20, 16), PackedInt32Array(21, 16, 20)])
outlines = Array[PackedVector2Array]([PackedVector2Array(256, -128, 512, -128, 512, 56, 584, 56, 584, 32, 544, 32, 544, -128, 704, -128, 704, 32, 664, 32, 664, 56, 704, 56, 704, 224, 256, 224, 256, 88, 232, 88, 232, 296, 32, 296, 32, -136, 224, -136, 224, 8, 256, 8)])
agent_radius = 20.0

[node name="LevelPractice" type="Node"]

[node name="TileMapLayerTerrain" type="TileMapLayer" parent="."]
scale = Vector2(3, 3)
tile_map_data = PackedByteArray("AAAAAP//AAAAAAAAAAD/////AAAAAAAAAAD///7/AAAAAAEAAAD///3/AAAAAAEAAAD///z/AAAAAAEAAAAAAPz/AAAAAAEAAAABAPz/AAAAAAEAAAACAPz/AAAAAAEAAAADAPz/AAAAAAEAAAADAP3/AAAAAAEAAAACAP3/AAAAAAEAAAABAP7/AAAAAAEAAAABAP3/AAAAAAEAAAAAAP3/AAAAAAEAAAACAP7/AAAAAAEAAAAAAP7/AAAAAAEAAAAAAAAAAAABAAAAAAAAAAEAAAABAAAAAAD//wEAAAABAAAAAAD//wAAAAABAAAAAAD//wIAAAAAAAAAAAD//wMAAAAAAAEAAAD//wQAAAAAAAEAAAAAAAQAAAAAAAEAAAABAAMAAAAAAAEAAAABAAIAAAAAAAAAAAABAAEAAAABAAAAAAAAAAIAAAAAAAAAAAAAAAMAAAAAAAEAAAACAAIAAAAAAAAAAAACAAEAAAABAAAAAAACAAAAAAABAAAAAAACAP//AAAAAAAAAAABAP//AAAAAAAAAAABAAAAAAABAAAAAAACAAMAAAAAAAEAAAABAAQAAAAAAAEAAAD///v/AAAAAAEAAAD//wUAAAAAAAEAAAD//wYAAAAAAAEAAAAAAPv/AAAAAAEAAAAAAAUAAAAAAAEAAAAAAAYAAAAAAAEAAAABAPv/AAAAAAEAAAABAAUAAAAAAAEAAAABAAYAAAAAAAEAAAACAPv/AAAAAAEAAAACAAQAAAAAAAEAAAACAAUAAAAAAAEAAAACAAYAAAAAAAEAAAADAPv/AAAAAAEAAAADAP7/AAAAAAEAAAADAP//AAAAAAAAAAADAAAAAAABAAAAAAADAAEAAAABAAAAAAADAAIAAAAAAAAAAAADAAMAAAAAAAEAAAADAAQAAAAAAAEAAAADAAUAAAAAAAEAAAADAAYAAAAAAAEAAAAEAPv/AAAAAAEAAAAEAPz/AAAAAAEAAAAEAP3/AAAAAAAAAAAEAP7/AAAAAAAAAAAEAP//AAAAAAAAAAAEAAAAAAABAAAAAAAEAAEAAAABAAAAAAAEAAIAAAAAAAAAAAAEAAMAAAAAAAAAAAAEAAQAAAAAAAAAAAAEAAUAAAAAAAEAAAAEAAYAAAAAAAEAAAAFAPv/AAAAAAEAAAAFAPz/AAAAAAEAAAAFAP3/AAABAAEAAAAFAP7/AAABAAEAAAAFAP//AAABAAEAAAAFAAAAAAABAAEAAAAFAAEAAAABAAEAAAAFAAIAAAABAAEAAAAFAAMAAAABAAEAAAAFAAQAAAABAAEAAAAFAAUAAAAAAAEAAAAFAAYAAAAAAAEAAAAGAPv/AAAAAAEAAAAGAPz/AAAAAAEAAAAGAP3/AAABAAEAAAAGAP7/AAABAAEAAAAGAP//AAABAAEAAAAGAAAAAAABAAEAAAAGAAEAAAABAAEAAAAGAAIAAAABAAEAAAAGAAMAAAABAAEAAAAGAAQAAAABAAEAAAAGAAUAAAAAAAEAAAAGAAYAAAAAAAEAAAAHAPv/AAAAAAEAAAAHAPz/AAAAAAEAAAAHAP3/AAABAAEAAAAHAP7/AAABAAEAAAAHAP//AAABAAEAAAAHAAAAAAABAAEAAAAHAAEAAAABAAEAAAAHAAIAAAABAAEAAAAHAAMAAAABAAEAAAAHAAQAAAABAAEAAAAHAAUAAAAAAAEAAAAHAAYAAAAAAAEAAAAIAPv/AAAAAAEAAAAIAPz/AAAAAAEAAAAIAP3/AAABAAEAAAAIAP7/AAABAAEAAAAIAP//AAABAAEAAAAIAAAAAAABAAEAAAAIAAEAAAABAAEAAAAIAAIAAAABAAEAAAAIAAMAAAABAAEAAAAIAAQAAAABAAEAAAAIAAUAAAAAAAEAAAAIAAYAAAAAAAEAAAAJAPv/AAAAAAEAAAAJAPz/AAAAAAEAAAAJAP3/AAABAAEAAAAJAP7/AAABAAEAAAAJAP//AAABAAEAAAAJAAAAAAABAAEAAAAJAAEAAAABAAEAAAAJAAIAAAABAAEAAAAJAAMAAAABAAEAAAAJAAQAAAABAAEAAAAJAAUAAAAAAAEAAAAJAAYAAAAAAAEAAAAKAPv/AAAAAAEAAAAKAPz/AAAAAAEAAAAKAP3/AAABAAEAAAAKAP7/AAABAAEAAAAKAP//AAABAAEAAAAKAAAAAAABAAEAAAAKAAEAAAABAAEAAAAKAAIAAAABAAEAAAAKAAMAAAABAAEAAAAKAAQAAAABAAEAAAAKAAUAAAAAAAEAAAAKAAYAAAAAAAEAAAALAPv/AAAAAAEAAAALAPz/AAAAAAEAAAALAP3/AAABAAEAAAALAP7/AAABAAEAAAALAP//AAABAAEAAAALAAAAAAABAAEAAAALAAEAAAABAAEAAAALAAIAAAABAAEAAAALAAMAAAABAAEAAAALAAQAAAABAAEAAAALAAUAAAAAAAEAAAALAAYAAAAAAAEAAAAMAPv/AAAAAAEAAAAMAPz/AAAAAAEAAAAMAP3/AAABAAEAAAAMAP7/AAABAAEAAAAMAP//AAABAAEAAAAMAAAAAAABAAEAAAAMAAEAAAABAAEAAAAMAAIAAAABAAEAAAAMAAMAAAABAAEAAAAMAAQAAAABAAEAAAAMAAUAAAAAAAEAAAAMAAYAAAAAAAEAAAANAPv/AAAAAAEAAAANAPz/AAAAAAEAAAANAP3/AAABAAEAAAANAP7/AAABAAEAAAANAP//AAABAAEAAAANAAAAAAABAAEAAAANAAEAAAABAAEAAAANAAIAAAABAAEAAAANAAMAAAABAAEAAAANAAQAAAABAAEAAAANAAUAAAAAAAEAAAANAAYAAAAAAAEAAAAOAPv/AAAAAAEAAAAOAPz/AAAAAAEAAAAOAP3/AAABAAEAAAAOAP7/AAABAAEAAAAOAP//AAABAAEAAAAOAAAAAAABAAEAAAAOAAEAAAABAAEAAAAOAAIAAAABAAEAAAAOAAMAAAABAAEAAAAOAAQAAAABAAEAAAAOAAUAAAAAAAEAAAAOAAYAAAAAAAEAAAAPAPv/AAAAAAEAAAAPAPz/AAAAAAEAAAAPAP3/AAAAAAEAAAAPAP7/AAAAAAEAAAAPAP//AAAAAAEAAAAPAAAAAAAAAAEAAAAPAAEAAAAAAAEAAAAPAAIAAAAAAAEAAAAPAAMAAAAAAAEAAAAPAAQAAAAAAAEAAAAPAAUAAAAAAAEAAAAPAAYAAAAAAAEAAAAQAPv/AAAAAAEAAAAQAPz/AAAAAAEAAAAQAP3/AAAAAAEAAAAQAP7/AAAAAAEAAAAQAP//AAAAAAEAAAAQAAAAAAAAAAEAAAAQAAEAAAAAAAEAAAAQAAIAAAAAAAEAAAAQAAMAAAAAAAEAAAAQAAQAAAAAAAEAAAAQAAUAAAAAAAEAAAAQAAYAAAAAAAEAAAARAPv/AAAAAAEAAAARAPz/AAAAAAEAAAARAP3/AAAAAAEAAAARAP7/AAAAAAEAAAARAP//AAAAAAEAAAARAAAAAAAAAAEAAAARAAEAAAAAAAEAAAARAAIAAAAAAAEAAAARAAMAAAAAAAEAAAARAAQAAAAAAAEAAAARAAUAAAAAAAEAAAARAAYAAAAAAAEAAAASAPv/AAAAAAEAAAASAPz/AAAAAAEAAAASAP3/AAAAAAEAAAASAP7/AAAAAAEAAAASAP//AAAAAAEAAAASAAAAAAAAAAEAAAASAAEAAAAAAAEAAAASAAIAAAAAAAEAAAASAAMAAAAAAAEAAAASAAQAAAAAAAEAAAASAAUAAAAAAAEAAAASAAYAAAAAAAEAAAATAPv/AAAAAAEAAAATAPz/AAAAAAEAAAATAP3/AAAAAAEAAAATAP7/AAAAAAEAAAATAP//AAAAAAEAAAATAAAAAAAAAAEAAAATAAEAAAAAAAEAAAATAAIAAAAAAAEAAAATAAMAAAAAAAEAAAATAAQAAAAAAAEAAAATAAUAAAAAAAEAAAATAAYAAAAAAAEAAAA=")
tile_set = SubResource("TileSet_8f2bd")

[node name="TileMapLayerObjects" type="TileMapLayer" parent="."]
scale = Vector2(3, 3)
tile_map_data = PackedByteArray("AAAFAP7/AAABAAAAAEAFAP//AAABAAEAAAAFAAAAAAAAAAAAAGAFAAIAAAABAAEAAHAGAP7/AAACAAEAAFAGAAIAAAACAAEAAGAHAP7/AAAAAAAAAFAHAAIAAAAAAAAAADACAP7/AAAAAAAAAAACAP//AAACAAEAAAACAAAAAAAAAAEAAAACAAEAAAACAAEAAAACAAIAAAAAAAAAAGADAP7/AAABAAEAAFADAAIAAAABAAEAAHAEAP7/AAACAAEAAFAEAAIAAAACAAEAAGAHAP//AAABAAEAADAHAAAAAAABAAAAADAHAAEAAAABAAEAADAGAAAAAAAAAAEAAHA=")
tile_set = SubResource("TileSet_43nsg")

[node name="Windows" type="Node" parent="."]

[node name="Window" parent="Windows" instance=ExtResource("7_e3inl")]
position = Vector2(240, -48)

[node name="Window2" parent="Windows" instance=ExtResource("7_e3inl")]
position = Vector2(240, 144)

[node name="Window3" parent="Windows" instance=ExtResource("7_e3inl")]
position = Vector2(432, 240)
rotation = 4.71238

[node name="Window4" parent="Windows" instance=ExtResource("7_e3inl")]
position = Vector2(624, 240)
rotation = 4.71238

[node name="Window5" parent="Windows" instance=ExtResource("7_e3inl")]
position = Vector2(624, -144)
rotation = 7.85397

[node name="Window6" parent="Windows" instance=ExtResource("7_e3inl")]
position = Vector2(432, -144)
rotation = 7.85397

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_03y72")

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.8, 0.8, 0.8, 1)

[node name="Player" parent="." instance=ExtResource("1_u52q2")]

[node name="Mob" parent="." node_paths=PackedStringArray("movement_target_positions") instance=ExtResource("4_tunmd")]
position = Vector2(464, 192)
movement_target_positions = [NodePath("../Waypoints/Marker2D"), NodePath("../Waypoints/Marker2D2")]

[node name="Waypoints" type="Node" parent="."]

[node name="Marker2D" type="Marker2D" parent="Waypoints"]
position = Vector2(384, -56)

[node name="Marker2D2" type="Marker2D" parent="Waypoints"]
position = Vector2(616, -56)

[node name="Camera2D" type="Camera2D" parent="."]
script = ExtResource("5_2fu32")

[node name="PlayerGUI" parent="Camera2D" instance=ExtResource("6_3xe03")]

[connection signal="grenade_thrown" from="Player" to="Camera2D/PlayerGUI" method="_on_player_grenade_thrown"]
[connection signal="gun_changed" from="Player" to="Camera2D/PlayerGUI" method="_on_player_gun_changed"]
[connection signal="gun_reloaded" from="Player" to="Camera2D/PlayerGUI" method="_on_player_gun_reloaded"]
[connection signal="gun_shot" from="Player" to="Camera2D/PlayerGUI" method="_on_player_gun_shot"]
[connection signal="gun_started_reloading" from="Player" to="Camera2D/PlayerGUI" method="_on_player_gun_started_reloading"]
[connection signal="hit" from="Player" to="Mob" method="_on_hit"]
[connection signal="hit" from="Mob" to="Player" method="_on_hit"]
